{% extends "admin/base.html" %}

{% block content %}
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="messages">
        {% for message in messages %}
          <p>{{ message }}</p>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
  <table class="condensed-table zebra-striped">
    <thead>
      <th class="center">Title</th>
      <th class="center">Created</th>
      <th class="center">Actions</th>
    </thead>
    <tbody>
      {% if posts %}
        {% for post in posts %}
          <tr>
            <th class="center"><a href="{{ url_for('admin.edit', slug=post.slug) }}">{{ post.title }}</a></th>
            <td class="center">{{ post.created_at.strftime('%Y-%m-%d') }}</td>
            <td class="center"><a href="{{ url_for('admin.edit', slug=post.slug) }}" class="btn primary"><i class="large material-icons">mode_edit</i></a></td>
          </tr>
        {% endfor %}
      {% else %}
        <tr><th colspan="3" class="center">no posts to display</th></tr>
      {% endif %}
    </tbody>
  </table>
{% endblock %}